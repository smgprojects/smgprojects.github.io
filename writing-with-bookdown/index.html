<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>writing with bookdown</title>
    <meta name="description" content="An open history notebook forked from Jason Heppler">
    <meta name="author" content="Shawn Graham"/>

    <!-- Get date last modified from git log. (Uses current time if file entry not found, e.g. projects/)  -->
    

    <!-- For posts, page.date is the date they are published under, which we use as their 'canonical' dc:date -->
    
      
      

    <!-- RDFa Metadata (in DublinCore) -->
    <meta property="dc:title" content="writing with bookdown" />
    <meta property="dc:creator" content="Shawn Graham" />
    <meta property="dc:date" content="2017-02-27T11:56:00-05:00" />
    <meta property="dc:format" content="text/html" />
    <meta property="dc:language" content="en" />
    <meta property="dc:identifier" content="/writing-with-bookdown/" />
    <meta property="dc:rights" content="CC BY-NC-SA 3.0" />
    <meta property="dc:source" content="Shawn Graham's Open Digital Humanities Notebook 2016-17" />
    <meta property="dc:subject" content="History" />
    <meta property="dc:type" content="website" />

    <!-- RDFa Metadata (in OpenGraph) -->
    <meta property="og:title" content="writing with bookdown" />
    <meta property="og:author" content="/bio.html" />
    <meta property="og:site_name" content="Shawn Graham's Open Digital Humanities Notebook 2016-17" />
    <meta property="og:url" content="/writing-with-bookdown/" />
    <meta property="og:type" content="website" />

    <!-- Google Scholar Metadata -->
    <meta name="citation_author" content="Shawn Graham"/>
    <meta name="citation_date" content="2017-02-27T11:56:00-05:00"/>
    <meta name="citation_title" content="writing with bookdown"/>
    <meta name="citation_journal_title" content="Shawn Graham's Open Digital Humanities Notebook 2016-17"/>

    <!-- Twitter cards -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="">
    <meta name="twitter:creator" content="">
    <meta name="twitter:url" content="">
    <meta name="twitter:title" content="Shawn Graham's Open Digital Humanities Notebook 2016-17">
    <meta name="twitter:description" content="An open history notebook forked from Jason Heppler">

    <!-- Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:100,400,400italic,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Droid+Serif' rel='stylesheet' type='text/css'>
    <script src="https://use.typekit.net/wak0qrc.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css">
    <script type="text/javascript" src="/components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/components/jquery/dist/jquery.min.js"></script>

    <!-- Custom Styling -->
    <!-- <link rel="stylesheet" href="/css/lmullen.css"> -->
    <link rel="stylesheet" href="/css/main.css"> 
    <!-- <link rel="stylesheet" href="/css/search.css"> -->
    <!-- <link rel="stylesheet" href="/css/custom.css"> -->
    <link rel="stylesheet" href="/css/bigfoot-default.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha256-3dkvEK0WLHRJ7/Csr0BZjAWxERc5WH7bdeUya2aXxdU= sha512-+L4yy6FRcDGbXJ9mPG8MT/3UCDzwR9gPeyFNMCtInsol++5m3bk2bXWKdZjvybmohrAsn3Ua5x8gfLnbE1YkOg==" crossorigin="anonymous">
    <link rel="canonical" href="http://smgprojects.github.io/writing-with-bookdown/">

    <!-- Initialize Bigfoot.js -->
    <script type="text/javascript" src="/components/bigfoot/bigfoot.js"></script>
    <script type="text/javascript">
        $.bigfoot();
    </script>

    <!-- Todo lists (via Lincoln Mullen) -->
    <script type="text/javascript">
      /* <![CDATA[ */
      $(document).ready(function() {
        $("li:contains('[ ]')").html(function(_, html) {
          return html.replace('[ ]', '<span style="color:red;">☐</span>');
        });
        $("li:contains('[s]')").html(function(_, html) {
          return html.replace('[s]', '<span style="color:gold;">☐</span>');
        });
        $("li:contains('[x]')").html(function(_, html) {
          return html.replace('[x]', '<span style="color:green;">☑</span>');
        });
      });
      /* ]]> */
    </script>
    <script defer async src="//hypothes.is/embed.js"></script>
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Shawn Graham's Open Digital Humanities Notebook 2016-17</a>

    <nav class="site-nav">
      <ul>
        <li><a href="/about/">About</a></li>
        <li><a href="/essays/">Essays</a></li>
        <li><a href="/feed.xml">RSS</a></li>
      </ul>
    </nav>

  </div>

</header>


    <div class="page-content">
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">

  <div class="well sidebar-nav">

<!--- <center><img src="/images/logo.png" class="img-responsive" alt="Shawn Graham's Notebook"/><br/>
  <a href="http://electricarchaeology.ca">Shawn Graham</a>
  </center>
--->
  <br/>

  <div id="search">
    <form action="http://duckduckgo.com/" method="get">
    <input type="hidden" name="sites" value="smgprojects.github.io" />
      <input type="text" id="search_input" name="q" placeholder="Search" autocomplete="off">
    </form>
  </div>

    <ul class="nav nav-list">
      <li class="nav-header">General</li>
      <li><a href="/tagged/">Notes by Tag</a></li>
      <li><a href="/archive/">All Notes by Date</a></li>
      <li><a href="/archive-alphabetical/">All Notes Alphabetically</a></li>
      <li><a href="/essays/">Essays and General Writing</a></li>
      <li><a href="/categories/">Categories</a></li>

      <li class="nav-header">Topics and Projects</li>
      <li><a href="/reading-notes/">Reading Notes</a></li>
      <li><a href="/archaeogaming/">Archaeogaming</a></li>
      <li><a href="/design-studio/">Design Studio in DH</a></li>
      <li><a href="/soundbashing-history/">Soundbashing History</a></li>
      <li class="nav-header">Meta</li>
      <li><a href="/project-news/">Notebook News</a></li>
      <li><a href="/about/">About Me</a></li>
      <li><a href="/notebook/">About This Notebook</a></li>
    </ul>
  </div>

</div> <!-- / span3 -->


        <div class="span9">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">writing with bookdown</h1>
    <p class="post-meta">Feb 27, 2017</p>
  </header>

  <article class="post-content">
    
<p>For my current project, the Open Digital Archaeology Textbook Environment (ODATE for short; I’m rubbish at a) names and b) acronyms) Neha, Michael, Beth and I are trying to use Slack to manage our conversations, and writing instead in a series of markdown files, and use a repo to manage the collaboration, resolve conflicts, etc. Right now this is going swimmingly because for various reasons the rest of the gang can’t devote any time to this project. For my part, I’m trying to get the infrastructure and preliminary writing set up so we can hit the ground running in around mid march.</p>

<p>Given our requirements outlined above, I looked around at a couple of different platforms, settling eventually on Bookdown . I like Bookdown because I can write in whatever editor strikes my fancy (switching into R to do the build) and it will give me a complete flat website (<em>with</em> search), an epub, and a PDF, grabbing my citations from a Bibtext file and formatting appropriately (we have a collaborative Zotero library for adding to while we write/research; export to Bibtext, boom!). Right now, I’m writing within RStudio. With some minimal tweaking, it also allows me to build in Hypothes.is collaborative annotation (and via the Hypothesis API, I plan on collating annotations periodically to guid revisioning and also perhaps to build into the book user appendices, but that idea is still nebulous at the moment). I’ve also run the resulting website from Bookdown through various web accessibility tools, and the report comes back fairly positive. With some more tweaking, I think I can make the final product super-accessible, or at the very least, produce PDFs that screenreaders and so on can work with.</p>

<p>Getting Bookdown set up was not without its idiosyncracies. The RStudio version has to be the preview release. Then:</p>

<p>create a new project in RStudio (do this in a brand new folder)
run the following script to install Bookdown:
<code>
install.packages("devtools")
devtools::install_github("rstudio/bookdown")
</code></p>

<p>create a new textfile with metadata that describe how the book will be built. The metadata is in a format called YAML (‘yet another markup language’) that uses keys and values that get passed into other parts of Bookdown:
<code>
title: "The archaeology of spoons"
author: "Graham, Gupta, Carter, &amp; Compton"
date: "July 1 2017"
description: "A book about cocleararchaeology."
github-repo: "my-github-account/my-project"
cover-image: "images/cover.png"
url: 'https\://my-domain-ex/my-project/'
bibliography: myproject.bib
biblio-style: apa-like
link-citations: yes
</code>
This is the only thing you need to have in this file, which is saved in the project folder as index.Rmd.</p>

<p>Write! We write the content of this book as text files, saving the parts in order. Each file should be numbered 01-introduction.Rmd, 02-a-history-of-spoons.Rmd, 03-the-spoons-of-site-x.Rmd and so on.
Build the book. With Bookdown installed, there will be a ‘Build Book’ button in the R Studio build pane. This will generate the static html files for the book, the pdf, and the epub. All of these will be found in a new folder in your project, <code>_book</code>. There are many more customizations that can be done, but that is sufficient to get one started.
To get Hypothesis working, we have to modify the <code>_output.yml</code> file:</p>

<pre><code>bookdown::gitbook:
  includes:
      in_header: hypothesis.html
</code></pre>
<p>That html file is just a file with a single line, where you add the script src line for embedding hypothesis (see this guidance).</p>

<p>You end up with a Gitbook-looking site.</p>

  </article>

  <p class="text-info">
    <table class="table table-condensed" id="post-info">
      <tr class="info">
        <td><small><i class="glyphicon glyphicon-calendar"></i>&nbsp;Created: 27 Feb 2017</small></td>
        <td><small><i class="glyphicon glyphicon-calendar"></i>&nbsp;Modified: 23 Jun 2017</small></td>
        <td><small><i class="fa fa-github-square"></i>&nbsp;<a
              href="https://github.com/smgprojects/notebook/commits/master/source/_posts/2017-06-23-writing-with-bookdown.md">History</a></small></td>
        <td><small><a href="javascript:window.print()"><i class="glyphicon glyphicon-print"></i>&nbsp;Print</a></small></td>
        <td><small><a href="/writing-with-bookdown/"><i class="glyphicon glyphicon-link"></i>Permalink</a></small></td>
      </tr>
    </table>
    </p>

<div class="tag-area alert-primary">
  <ul id="post-categories">
    <li><i class="glyphicon glyphicon-tags"></i>&nbsp;Tags: </li>
  
    <li class="categorylist"><a href='/tagged/#odate'>ODATE</a></li>
  
    <li class="categorylist"><a href='/tagged/#writing'>writing</a></li>
  
    <li class="categorylist"><a href='/tagged/#platform'>platform</a></li>
  
    <li class="categorylist"><a href='/tagged/#static-site-generator'>static site generator</a></li>
  
  </ul>
</div>

</div>

        </div>
      </div>
    </div>
    </div>

    <footer class="site-footer">

  <div class="footer-wrapper">

    <h2 class="footer-heading">Shawn Graham's Open Digital Humanities Notebook 2016-17</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <figure class="image-left">
            <img class="avatar" src="/images/minionme.jpeg" height="120" width="120"/>
          </figure>
          <p class="text">I'm at Carleton University in Ottawa Canada.</p>

          <form method="get" action="http://duckduckgo.com/">
            <input type="search" name="q" maxlength="255" placeholder="Search">
            <input type="hidden" names="sites" value="smgprojects.github.io">
            <input type="hidden" name="k7" value="#faf8f8">
            <input type="hidden" name="kj" value="#b33">
            <input type="hidden" name="ky" value="#fafafa">
            <input type="hidden" name="kx" value="b">
            <input type="hidden" name="ko" value="-1">
            <input type="hidden" name="k1" value="-1">
            <input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
          </form>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          <li>
            <i class="fa fa-globe"></i> <a href="http://electricarchaeology.ca">electricarchaeology.ca</a>
          </li>
          
          <li>
              <i class="fa fa-github-square"></i> <a href="https://github.com/shawngraham"><span class="username">shawngraham</span>
            </a>
          </li>
          

          
          <li>
              <i class="fa fa-twitter-square"></i> <a href="https://twitter.com/electricarchaeo"><span class="username">electricarchaeo</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        Shawn Graham<br/>
        <ul class="social-media-list">
          <li><i class="fa fa-university"></i> Department of History, 406 Paterson Hall, Carleton University, Ottawa Canada</li>
          <li><i class="fa fa-envelope"></i> <a href="mailto:shawn.graham@carleton.ca">shawn.graham@carleton.ca</a></li>
        </ul>
      </div>
    </div>

  </div>

</footer>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-75211414-1', 'auto');
  ga('send', 'pageview');

</script>

  </body>

</html>
