<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>How the Notebook Works</title>
    <meta name="description" content="An open history notebook forked from Jason Heppler">
    <meta name="author" content="Shawn Graham"/>

    <!-- Get date last modified from git log. (Uses current time if file entry not found, e.g. projects/)  -->
    

    <!-- For posts, page.date is the date they are published under, which we use as their 'canonical' dc:date -->
     <!-- If we don't have a page.date, then use modified time (pages) -->
      
    

    <!-- RDFa Metadata (in DublinCore) -->
    <meta property="dc:title" content="How the Notebook Works" />
    <meta property="dc:creator" content="Shawn Graham" />
    <meta property="dc:date" content="1969-12-31T19:00:00-05:00" />
    <meta property="dc:format" content="text/html" />
    <meta property="dc:language" content="en" />
    <meta property="dc:identifier" content="/notebook/" />
    <meta property="dc:rights" content="CC BY-NC-SA 3.0" />
    <meta property="dc:source" content="Open History Notebook" />
    <meta property="dc:subject" content="History" />
    <meta property="dc:type" content="website" />

    <!-- RDFa Metadata (in OpenGraph) -->
    <meta property="og:title" content="How the Notebook Works" />
    <meta property="og:author" content="/bio.html" />
    <meta property="og:site_name" content="Open History Notebook" />
    <meta property="og:url" content="/notebook/" />
    <meta property="og:type" content="website" />

    <!-- Google Scholar Metadata -->
    <meta name="citation_author" content="Shawn Graham"/>
    <meta name="citation_date" content="1969-12-31T19:00:00-05:00"/>
    <meta name="citation_title" content="How the Notebook Works"/>
    <meta name="citation_journal_title" content="Open History Notebook"/>

    <!-- Twitter cards -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="">
    <meta name="twitter:creator" content="">
    <meta name="twitter:url" content="">
    <meta name="twitter:title" content="Open History Notebook">
    <meta name="twitter:description" content="An open history notebook forked from Jason Heppler">

    <!-- Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:100,400,400italic,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Droid+Serif' rel='stylesheet' type='text/css'>
    <script src="https://use.typekit.net/wak0qrc.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css">
    <script type="text/javascript" src="/components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/components/jquery/dist/jquery.min.js"></script>

    <!-- Custom Styling -->
    <link rel="stylesheet" href="/css/main.css">
    <!-- <link rel="stylesheet" href="/css/search.css"> -->
    <!-- <link rel="stylesheet" href="/css/custom.css"> -->
    <link rel="stylesheet" href="/css/bigfoot-default.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha256-3dkvEK0WLHRJ7/Csr0BZjAWxERc5WH7bdeUya2aXxdU= sha512-+L4yy6FRcDGbXJ9mPG8MT/3UCDzwR9gPeyFNMCtInsol++5m3bk2bXWKdZjvybmohrAsn3Ua5x8gfLnbE1YkOg==" crossorigin="anonymous">
    <link rel="canonical" href="http://smgprojects.github.io/notebook/">

    <!-- Initialize Bigfoot.js -->
    <script type="text/javascript" src="/components/bigfoot/bigfoot.js"></script>
    <script type="text/javascript">
        $.bigfoot();
    </script>

    <!-- Todo lists (via Lincoln Mullen) -->
    <script type="text/javascript">
      /* <![CDATA[ */
      $(document).ready(function() {
        $("li:contains('[ ]')").html(function(_, html) {
          return html.replace('[ ]', '<span style="color:red;">☐</span>');
        });
        $("li:contains('[s]')").html(function(_, html) {
          return html.replace('[s]', '<span style="color:gold;">☐</span>');
        });
        $("li:contains('[x]')").html(function(_, html) {
          return html.replace('[x]', '<span style="color:green;">☑</span>');
        });
      });
      /* ]]> */
    </script>
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Open History Notebook</a>

    <nav class="site-nav">
      <ul>
        <li><a href="/about/">About</a></li>
        <li><a href="/essays/">Essays</a></li>
        <li><a href="/feed.xml">RSS</a></li>
      </ul>
    </nav>

  </div>

</header>


    <div class="page-content">
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">

  <div class="well sidebar-nav">

  <center><img src="/images/logo.png" class="img-responsive" alt="Shawn Graham's Notebook"/><br/>
  <a href="http://electricarchaeology.ca">Shawn Graham</a>
  </center>

  <br/>

  <div id="search">
    <form action="http://duckduckgo.com/" method="get">
    <input type="hidden" name="sites" value="smgprojects.github.io" />
      <input type="text" id="search_input" name="q" placeholder="Search" autocomplete="off">
    </form>
  </div>

    <ul class="nav nav-list">
      <li class="nav-header">General</li>
      <li><a href="/tagged/">Notes by Tag</a></li>
      <li><a href="/archive/">All Notes by Date</a></li>
      <li><a href="/archive-alphabetical/">All Notes Alphabetically</a></li>
      <li><a href="/essays/">Essays and General Writing</a></li>
      <li><a href="/categories/">Categories</a></li>

      <li class="nav-header">Topics and Projects</li>
      <li><a href="/reading-notes/">Reading Notes</a></li>
      <li><a href="/soundbashing-history/">Soundbashing History</a></li>
      <li><a href="/archaeogaming/">Archaeogaming</a></li>
      <li class="nav-header">Meta</li>
      <li><a href="/project-news/">Notebook News</a></li>
      <li><a href="/about/">About Me</a></li>
      <li><a href="/notebook/">About This Notebook</a></li>
    </ul>
  </div>

</div> <!-- / span3 -->


        <div class="span9">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">How the Notebook Works</h1>
  </header>

  <article class="post-content">
    <h2 id="about-this-notebook">About This Notebook</h2>

<p>This notebook is a fork of <a href="http://notebook.jasonheppler.org/">Jason Heppler’s</a>. I excerpt his original ‘about’ page below, as I am going to follow his model, which “is built on top of Github using Jekyll, a static site generator built by Tom Preston-Warner and others in the open source community.” It allows:</p>

<ul>
  <li>The ability to write offline in Markdown, but publish the material in any format [needed].</li>
  <li>An ability to host the production version of the notebook on the web, open for anyone to read and reference.</li>
  <li>A way to easily embed bibliographic references.</li>
  <li>The ability to link to articles and posts within the notebook with persistent URLs and bibliographic references, since the notebook is a record of work before it appears in publication elsewhere.</li>
  <li>The ability to render software code in a pleasing manner.</li>
</ul>

<h2 id="notes-essays-categories-tags">Notes, Essays, Categories, Tags</h2>

<p><em>Jason continues:</em></p>

<p>Everything in the notebook is a <code>_post</code>, apart from some of the descriptive pages I’ve put together (like this page). Everything here is a Markdown file contained in <code>_posts</code>.</p>

<p>At a conceptual level, I distinguish from “essays” and “notes.” A note is any page in a notebook for recording something useful—reading notes, archive notes, primary sources notes, and so on, but a note cannot stand alone without extra context. So, context for notes live inside of a <code>project</code> that those notes relate to. Each of this metadata is contained in <code>category</code> in Jekyll’s YAML, providing me a way to break down notes into units. Notes often appear in more than one category. For example, a note might look like:</p>

<pre><code>---
layout: post
title: "white1995misfortune"
tags: [american west, dissertation, survey]
categories:
- Readings
---
</code></pre>

<p>Toward the bottom of the YAML header, the note belongs to the categorires <code>Readings</code>, relating the note to categories that I can then sort by and parse. These categories are used in the notebook itself to build lists from project pages.</p>

<p>Essays, in contrast, are related to specific projects or collections of notes, meant for me to make things more comprehensible or extend the context around historical information. For example, an essay might include the following metadata:</p>

<pre><code>---
layout: essay
title: "Urbanization and the American West"
tags: [urban history, urbanization, suburbanization, american west, dissertation]
categories:
- Essays
---
</code></pre>

<p>The essay isn’t related to a specific project necessarily. The category <code>Essays</code> will put it in a list of essays and general writings in the notebook. I also give the essay a different layout, which has a few minor UI tweaks from the post format.</p>

<p>Each post also has a series of <a href="/tagged/">tags</a> which I often use for grouping together by topic or theme. <a href="/categories/">Categories</a> are a higher level than tags, meant for grouping posts together more by their genre than their thematic or topical similarity. Categories are a controlled vocabulary and consist of a smaller set of words than tagging. Right now, the available categories are:</p>

<ul>
  <li>Readings</li>
  <li>Essays</li>
  <li>Archive</li>
  <li>Administrative</li>
</ul>

<h2 id="documentation">Documentation</h2>

<p>There are a few scripts to make it easy to create new notes and essays. Most of these are contained in the <code>Rakefile</code>. The task <code>newnote</code> copies a template Markdown file with proper YAML header information and date stamp to the <code>_md</code> directory. The task <code>newessay</code> does the same thing. The task <code>prep</code> copies over the <code>_md</code> files into <code>_posts</code> with the appropriate date appended to the filename.</p>

<p>Additionally, since I’m using the R language more and more for visualization and statistical information, I’ve started using a script called <code>KnitPost</code> that reads files inside the <code>_Rmd</code> directory and converts them into Jekyll posts. This also preserves all of the R markup, figures, charts, and tables that come along with the document.</p>

<p>These scripts help keep categories, tags, and layout correct, and automate most of the maintenance I would otherwise be doing by hand.</p>

<h2 id="deployment">Deployment</h2>

<p>When I’m ready to push notes or edits to the live site, my <code>Rakefile</code> does the following:</p>

<ul>
  <li>Files in <code>_md</code> and <code>_Rmd</code> are copied into <code>_posts</code> with the appropriate filenames.</li>
  <li>Changes to the local source are checked into git.</li>
  <li>The local sources are pushed to Github to maintain the record of each change.</li>
  <li>Jekyll builds a new version of the static website from the local source into a local <code>_site</code> directory, which contains the notebook.</li>
  <li>I use rsync on the <code>_site</code> directory to then deploy the notebook to the web, building the open access version of the notebook.</li>
</ul>

<p>This takes around sixty seconds for the entire process to happen. It’s a little slow at times, but by and large doesn’t hamper my workflow.</p>

<h2 id="details">Details</h2>

<p>The notebook uses Jekyll at its most recent release. I only modify Jekyll by adding plugins. In particular, it’s important to make sure the Jekyll Scholar dependencies are updated along with any Jekyll system updates. I also use <a href="">Bootstrap</a> to handle most of the CSS, icons, and layout of the notebook, with some heavy tweaks inside the <code>main.css</code> file. These are pre-processed <code>sass</code> files.</p>

<p>I take advantage of several plugins:</p>

<ul>
  <li><strong>markdown</strong>: I want to occasionally include Markdown files from the <code>_includes</code> directory, but using liquid’s <code>include</code> expects <code>.html</code>. The plugin adds a new liquid controller called <code>markdown</code> that allows me to pass these files along and have them markdownified. I use this in particular for the front page.</li>
  <li><strong>Jekyll-Scholar</strong>: I use this to take advantage of BibTeX files for referencing articles, books, and other materials.</li>
  <li><strong>git_modified</strong>: A plugin borrowed from Carl Boettiger for looking at git modification time for a file, and using that to set a Liquid variable of last modification time. I use this in the metadata of posts and essays for indicating difference between when a file was originally written and last modified.</li>
</ul>

<h2 id="pandoc">Pandoc</h2>

<p>I have replaced Jekyll’s default Markdown parser with <a href="http://johnmacfarlane.net/pandoc/">Pandoc</a>, because Pandoc is awesome. It’s a document utility written in Haskell for translating Markdown.</p>

<p>I have templates for writing in RMarkdown with embedded R code, using <a href="">Knitr</a> to produce plain Markdown with source code annotations. These are useful as reproducable research within the notebook and easy to transition into print publications. I blame <a href="http://lincolnmullen.com">Lincoln</a> for all this R stuff.</p>


  </article>

</div>

<p class="text-info">
    <table class="table table-condensed" id="post-info">
      <tr class="info">
        <td><small><i class="glyphicon glyphicon-calendar"></i>&nbsp;Modified: 31 Dec 1969</small></td>
        <td><small><i class="fa fa-github-square"></i>&nbsp;<a 
              href="https://github.com/shawngraham/notebook/commits/master/labnotebook.md">History</a></small></td>
        <td><small><a href="javascript:window.print()"><i class="glyphicon glyphicon-print"></i>&nbsp;Print</a></small></td>
        <td><small><a href="/notebook/"><i class="glyphicon glyphicon-link"></i>Permalink</a></small></td>
      </tr>
    </table>
    </p>

        </div>
      </div>
    </div>
    </div>

    <footer class="site-footer">

  <div class="footer-wrapper">

    <h2 class="footer-heading">Open History Notebook</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <figure class="image-left">
            <img class="avatar" src="/images/minionme.jpeg" height="120" width="120"/>
          </figure>
          <p class="text">I'm at Carleton University in Ottawa Canada.</p>

          <form method="get" action="http://duckduckgo.com/">
            <input type="search" name="q" maxlength="255" placeholder="Search">
            <input type="hidden" names="sites" value="smgprojects.github.io">
            <input type="hidden" name="k7" value="#faf8f8">
            <input type="hidden" name="kj" value="#b33">
            <input type="hidden" name="ky" value="#fafafa">
            <input type="hidden" name="kx" value="b">
            <input type="hidden" name="ko" value="-1">
            <input type="hidden" name="k1" value="-1">
            <input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
          </form>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          <li>
            <i class="fa fa-globe"></i> <a href="http://electricarchaeology.ca">electricarchaeology.ca</a>
          </li>
          
          <li>
              <i class="fa fa-github-square"></i> <a href="https://github.com/shawngraham"><span class="username">shawngraham</span>
            </a>
          </li>
          

          
          <li>
              <i class="fa fa-twitter-square"></i> <a href="https://twitter.com/electricarchaeo"><span class="username">electricarchaeo</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        Shawn Graham<br/>
        <ul class="social-media-list">
          <li><i class="fa fa-university"></i> Department of History, 406 Paterson Hall, Carleton University, Ottawa Canada</li>
          <li><i class="fa fa-envelope"></i> <a href="mailto:shawn.graham@carleton.ca">shawn.graham@carleton.ca</a></li>
        </ul>
      </div>
    </div>

  </div>

</footer>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-12786552-3', 'auto');
  ga('send', 'pageview');

</script>

  </body>

</html>
